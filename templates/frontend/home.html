{% extends 'frontend/base.html' %}

{% block title %}{{ settings.get('site_name', 'Cricbuzz Live Score') }} - Live Cricket Scores, Match Updates{% endblock %}

{% block meta_description %}Get live cricket scores, match updates, schedules and results for India vs Pakistan, India vs Australia, India vs England and more. Your trusted source for cricket news.{% endblock %}

{% block content %}
<section class="hero">
    <div class="container">
        <h1>{{ settings.get('site_tagline', 'Live Cricket Scores, Match Updates & News') }}</h1>
        <p>Your trusted source for live cricket scores, match schedules, and results</p>
    </div>
</section>

<div class="container">
    <section class="matches-section">
        <div class="match-tabs">
            <button class="match-tab" onclick="showMatchTab('live')">Live</button>
            <button class="match-tab active" onclick="showMatchTab('recent')">Recent</button>
            <button class="match-tab" onclick="showMatchTab('upcoming')">Upcoming</button>
        </div>
        
        <div id="live" class="match-tab-content">
            <div class="matches-list">
                {% if live_matches %}
                    {% for match in live_matches %}
                    <a href="/cricket-match/{{ match.slug }}" class="cricbuzz-card">
                        <div class="card-header">
                            <span class="series-name">{{ match.series_name|upper }}</span>
                            <span class="chevron">‚Ä∫</span>
                        </div>
                        <div class="card-body">
                            <div class="match-meta">
                                <span class="live-dot"></span>
                                <span class="match-info-text">{{ match.match_title }}</span>
                            </div>
                            <div class="team-row">
                                <div class="team-flag {{ match.team1_code|lower if match.team1_code else 'default' }}"></div>
                                <span class="team-name">{{ match.team1_code or 'Team 1' }}</span>
                                <span class="team-score">{{ match.team1_score or '' }}</span>
                            </div>
                            <div class="team-row">
                                <div class="team-flag {{ match.team2_code|lower if match.team2_code else 'default' }}"></div>
                                <span class="team-name">{{ match.team2_code or 'Team 2' }}</span>
                                <span class="team-score">{{ match.team2_score or '' }}</span>
                            </div>
                            {% if match.result %}
                            <div class="match-result">{{ match.result }}</div>
                            {% endif %}
                        </div>
                    </a>
                    {% endfor %}
                {% else %}
                <div class="no-matches">
                    <div class="no-match-icon">üèè</div>
                    <p>No live matches at the moment</p>
                    <span>Check Recent or Upcoming matches</span>
                </div>
                {% endif %}
            </div>
        </div>
        
        <div id="recent" class="match-tab-content active">
            <div class="matches-list">
                {% if recent_matches %}
                    {% for match in recent_matches %}
                    <a href="/cricket-match/{{ match.slug }}" class="cricbuzz-card">
                        <div class="card-header">
                            <span class="series-name">{{ match.series_name|upper if match.series_name else 'CRICKET MATCH' }}</span>
                            <span class="chevron">‚Ä∫</span>
                        </div>
                        <div class="card-body">
                            <div class="match-meta">
                                <span class="match-info-text">{{ match.match_title }}</span>
                            </div>
                            {% if match.team1_code %}
                            <div class="team-row">
                                <div class="team-flag {{ match.team1_code|lower }}"></div>
                                <span class="team-name">{{ match.team1_code }}</span>
                                <span class="team-score">{{ match.team1_score }}</span>
                            </div>
                            <div class="team-row">
                                <div class="team-flag {{ match.team2_code|lower }}"></div>
                                <span class="team-name">{{ match.team2_code }}</span>
                                <span class="team-score bold">{{ match.team2_score }}</span>
                            </div>
                            {% endif %}
                            {% if match.result %}
                            <div class="match-result">{{ match.result }}</div>
                            {% endif %}
                        </div>
                    </a>
                    {% endfor %}
                {% else %}
                <div class="no-matches">
                    <div class="no-match-icon">üìä</div>
                    <p>No recent matches available</p>
                    <span>Scrape matches from admin panel</span>
                </div>
                {% endif %}
            </div>
        </div>
        
        <div id="upcoming" class="match-tab-content">
            <div class="matches-list">
                {% if upcoming_matches %}
                    {% for match in upcoming_matches %}
                    <a href="/cricket-match/{{ match.slug }}" class="cricbuzz-card upcoming">
                        <div class="card-header">
                            <span class="series-name">{{ match.series_name|upper if match.series_name else 'UPCOMING MATCH' }}</span>
                            <span class="chevron">‚Ä∫</span>
                        </div>
                        <div class="card-body">
                            <div class="match-meta">
                                <span class="match-info-text">{{ match.match_title }}</span>
                            </div>
                            <div class="upcoming-info">
                                <span class="upcoming-date">{{ match.match_date }}</span>
                            </div>
                        </div>
                    </a>
                    {% endfor %}
                {% else %}
                <div class="no-matches">
                    <div class="no-match-icon">üìÖ</div>
                    <p>No upcoming matches scheduled</p>
                    <span>Scrape matches from admin panel</span>
                </div>
                {% endif %}
            </div>
        </div>
    </section>
    
    <section style="margin-top: 40px;">
        <h2 class="section-title">Popular Matchups</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px;">
            <a href="/match/india-vs-pakistan" class="match-card" style="text-decoration: none; color: inherit;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #FF9933 50%, #046A38 50%); border-radius: 50%;"></div>
                    <div>
                        <h3 style="margin-bottom: 5px; color: var(--accent);">India vs Pakistan</h3>
                        <p style="color: #666; font-size: 14px;">The greatest rivalry in cricket</p>
                    </div>
                </div>
            </a>
            
            <a href="/match/india-vs-australia" class="match-card" style="text-decoration: none; color: inherit;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #FF9933 50%, #FFCD00 50%); border-radius: 50%;"></div>
                    <div>
                        <h3 style="margin-bottom: 5px; color: var(--accent);">India vs Australia</h3>
                        <p style="color: #666; font-size: 14px;">Border-Gavaskar Trophy rivals</p>
                    </div>
                </div>
            </a>
            
            <a href="/match/india-vs-england" class="match-card" style="text-decoration: none; color: inherit;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #FF9933 50%, #012169 50%); border-radius: 50%;"></div>
                    <div>
                        <h3 style="margin-bottom: 5px; color: var(--accent);">India vs England</h3>
                        <p style="color: #666; font-size: 14px;">Test cricket at its finest</p>
                    </div>
                </div>
            </a>
            
            <a href="/match/india-vs-new-zealand" class="match-card" style="text-decoration: none; color: inherit;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #FF9933 50%, #000000 50%); border-radius: 50%;"></div>
                    <div>
                        <h3 style="margin-bottom: 5px; color: var(--accent);">India vs New Zealand</h3>
                        <p style="color: #666; font-size: 14px;">World Test Championship battles</p>
                    </div>
                </div>
            </a>
            
            <a href="/match/india-vs-south-africa" class="match-card" style="text-decoration: none; color: inherit;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #FF9933 50%, #007A4D 50%); border-radius: 50%;"></div>
                    <div>
                        <h3 style="margin-bottom: 5px; color: var(--accent);">India vs South Africa</h3>
                        <p style="color: #666; font-size: 14px;">Freedom Trophy clashes</p>
                    </div>
                </div>
            </a>
            
            <a href="/match/india-vs-sri-lanka" class="match-card" style="text-decoration: none; color: inherit;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #FF9933 50%, #8B0000 50%); border-radius: 50%;"></div>
                    <div>
                        <h3 style="margin-bottom: 5px; color: var(--accent);">India vs Sri Lanka</h3>
                        <p style="color: #666; font-size: 14px;">Subcontinent neighbors</p>
                    </div>
                </div>
            </a>
        </div>
    </section>
    
    <section style="margin-top: 50px; padding: 30px; background: #fff; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
        <h2 class="section-title">About Cricbuzz Live Score</h2>
        <p style="color: #555; line-height: 1.8; margin-bottom: 15px;">
            Welcome to <strong>Cricbuzz Live Score</strong> - your ultimate destination for live cricket scores, match updates, and comprehensive coverage of all international cricket matches. We bring you real-time updates for India vs Pakistan, India vs Australia, India vs England, and all major cricket matchups.
        </p>
        <p style="color: #555; line-height: 1.8; margin-bottom: 15px;">
            Whether you're following the intense <strong>Ind vs Pak</strong> rivalry, the competitive <strong>Ind vs Aus</strong> Border-Gavaskar Trophy, or the historic <strong>Ind vs Eng</strong> Test series, we've got you covered with ball-by-ball commentary, scorecards, and match highlights.
        </p>
        <p style="color: #555; line-height: 1.8;">
            Stay updated with live scores for T20 World Cup, ODI World Cup, IPL, Asia Cup, and all bilateral series. Track your favorite teams - India, Pakistan, Australia, England, New Zealand, South Africa, Sri Lanka, Bangladesh, Afghanistan, and West Indies.
        </p>
    </section>
</div>

<script>
function showMatchTab(tabId) {
    document.querySelectorAll('.match-tab-content').forEach(el => el.classList.remove('active'));
    document.querySelectorAll('.match-tab').forEach(el => el.classList.remove('active'));
    
    document.getElementById(tabId).classList.add('active');
    event.target.classList.add('active');
}
</script>
{% endblock %}

{% block extra_css %}
<style>
    .matches-section {
        margin-top: 30px;
        background: #fff;
        border-radius: 12px;
        padding: 25px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.08);
    }
    
    .match-tabs {
        display: flex;
        gap: 10px;
        margin-bottom: 25px;
        border-bottom: 2px solid #e9ecef;
        padding-bottom: 15px;
    }
    
    .match-tab {
        padding: 10px 25px;
        border: none;
        background: #f8f9fa;
        color: #666;
        font-size: 14px;
        font-weight: 600;
        border-radius: 20px;
        cursor: pointer;
        transition: all 0.3s;
    }
    
    .match-tab:hover {
        background: #e9ecef;
    }
    
    .match-tab.active {
        background: #046a38;
        color: #fff;
    }
    
    .match-tab-content {
        display: none;
    }
    
    .match-tab-content.active {
        display: block;
    }
    
    .matches-list {
        display: flex;
        flex-direction: column;
        gap: 15px;
    }
    
    .cricbuzz-card {
        display: block;
        background: #fff;
        border-radius: 8px;
        overflow: hidden;
        text-decoration: none;
        box-shadow: 0 1px 4px rgba(0,0,0,0.1);
        transition: all 0.3s;
        border: 1px solid #e9ecef;
    }
    
    .cricbuzz-card:hover {
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        transform: translateY(-2px);
    }
    
    .card-header {
        background: linear-gradient(135deg, #1a5f4c, #2d7a5e);
        color: #fff;
        padding: 12px 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .series-name {
        font-size: 13px;
        font-weight: 600;
        letter-spacing: 0.5px;
    }
    
    .chevron {
        font-size: 20px;
        opacity: 0.8;
    }
    
    .card-body {
        padding: 15px;
    }
    
    .match-meta {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 12px;
        color: #666;
        margin-bottom: 12px;
    }
    
    .live-dot {
        width: 8px;
        height: 8px;
        background: #ff4444;
        border-radius: 50%;
        animation: pulse 1.5s infinite;
    }
    
    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
    }
    
    .match-info-text {
        color: #555;
    }
    
    .team-row {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 8px 0;
        border-bottom: 1px solid #f0f0f0;
    }
    
    .team-row:last-of-type {
        border-bottom: none;
    }
    
    .team-flag {
        width: 24px;
        height: 16px;
        border-radius: 2px;
        background-size: cover;
        background-position: center;
    }
    
    .team-flag.ind { background: linear-gradient(180deg, #FF9933 33%, #fff 33%, #fff 66%, #138808 66%); }
    .team-flag.nz { background: linear-gradient(135deg, #000 40%, #fff 40%); }
    .team-flag.aus { background: linear-gradient(135deg, #00008B 50%, #FFD700 50%); }
    .team-flag.eng { background: linear-gradient(to right, #fff 45%, #C8102E 45%, #C8102E 55%, #fff 55%); }
    .team-flag.pak { background: linear-gradient(90deg, #fff 25%, #01411C 25%); }
    .team-flag.sa { background: linear-gradient(135deg, #007A4D 50%, #FFB612 50%); }
    .team-flag.sl { background: linear-gradient(135deg, #8B0000 50%, #FFD700 50%); }
    .team-flag.ban { background: linear-gradient(135deg, #006A4E 60%, #F42A41 60%); }
    .team-flag.afg { background: linear-gradient(180deg, #000 33%, #C8102E 33%, #C8102E 66%, #009E49 66%); }
    .team-flag.wi { background: linear-gradient(135deg, #7B0041 50%, #FFC72C 50%); }
    .team-flag.default { background: #ddd; }
    
    .team-name {
        flex: 1;
        font-size: 14px;
        font-weight: 500;
        color: #333;
    }
    
    .team-score {
        font-size: 14px;
        font-weight: 600;
        color: #333;
    }
    
    .team-score.bold {
        font-weight: 700;
    }
    
    .match-result {
        margin-top: 10px;
        font-size: 13px;
        color: #046a38;
        font-weight: 500;
    }
    
    .upcoming-info {
        padding: 10px 0;
        text-align: center;
    }
    
    .upcoming-date {
        font-size: 14px;
        color: #2196F3;
        font-weight: 500;
    }
    
    .no-matches {
        text-align: center;
        padding: 50px 20px;
        color: #888;
    }
    
    .no-match-icon {
        font-size: 50px;
        margin-bottom: 15px;
    }
    
    .no-matches p {
        font-size: 16px;
        font-weight: 600;
        color: #555;
        margin-bottom: 5px;
    }
    
    .no-matches span {
        font-size: 13px;
    }
    
    @media (max-width: 768px) {
        .match-tabs {
            justify-content: center;
        }
        
        .match-tab {
            padding: 8px 18px;
            font-size: 13px;
        }
        
        .card-header {
            padding: 10px 12px;
        }
        
        .series-name {
            font-size: 11px;
        }
    }
</style>
{% endblock %}
