{% extends 'admin.html' %}

{% block main_content %}
<div class="content-header">
    <h1>Add New Category</h1>
    <a href="{{ url_for('admin_post_categories') }}" class="btn btn-secondary">Back to Categories</a>
</div>

<div class="card">
    <form method="POST" class="post-form">
        <div class="form-section">
            <h3>Category Information</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label for="name">Category Name *</label>
                    <input type="text" id="name" name="name" required placeholder="e.g., IND vs PAK">
                </div>
                
                <div class="form-group">
                    <label for="short_name">Short Name</label>
                    <input type="text" id="short_name" name="short_name" placeholder="e.g., India vs Pakistan">
                </div>
                
                <div class="form-group full-width">
                    <label for="description">Description</label>
                    <textarea id="description" name="description" rows="2" placeholder="Brief description of the category"></textarea>
                </div>
            </div>
        </div>
        
        <div class="form-section">
            <h3>Hero Section</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label for="hero_title">Hero Title</label>
                    <input type="text" id="hero_title" name="hero_title" placeholder="e.g., India vs Pakistan Cricket">
                </div>
                
                <div class="form-group">
                    <label for="og_image">Hero/OG Image URL</label>
                    <input type="url" id="og_image" name="og_image" placeholder="https://example.com/image.jpg">
                </div>
                
                <div class="form-group full-width">
                    <label for="hero_description">Hero Description</label>
                    <textarea id="hero_description" name="hero_description" rows="2" placeholder="Description shown in hero section"></textarea>
                </div>
            </div>
        </div>
        
        <div class="form-section">
            <h3>Page Content</h3>
            <div class="form-group">
                <label for="content">Page Content (HTML)</label>
                <textarea id="content" name="content" rows="10" placeholder="Enter page content here..."></textarea>
            </div>
        </div>
        
        <div class="form-section">
            <h3>Advanced SEO Settings</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label for="focus_keyword">Focus Keyword</label>
                    <input type="text" id="focus_keyword" name="focus_keyword" placeholder="e.g., India vs Pakistan">
                    <small>Primary keyword for SEO optimization</small>
                </div>
                
                <div class="form-group">
                    <label for="meta_title">Meta Title</label>
                    <input type="text" id="meta_title" name="meta_title" maxlength="70" placeholder="SEO meta title (max 70 chars)">
                    <small id="meta_title_count">0/70 characters</small>
                </div>
                
                <div class="form-group full-width">
                    <label for="meta_description">Meta Description</label>
                    <textarea id="meta_description" name="meta_description" rows="2" maxlength="170" placeholder="SEO meta description (max 170 chars)"></textarea>
                    <small id="meta_desc_count">0/170 characters</small>
                </div>
                
                <div class="form-group">
                    <label for="canonical_url">Canonical URL</label>
                    <input type="url" id="canonical_url" name="canonical_url" placeholder="Leave empty for auto-generated">
                    <small>Leave empty for auto-generated</small>
                </div>
                
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" name="is_published">
                        <span>Published</span>
                    </label>
                </div>
            </div>
        </div>
        
        <div class="form-section">
            <h3>Navigation Settings</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" name="show_in_nav">
                        <span>Show in Sub-Navigation Bar</span>
                    </label>
                    <small>Category will appear in the top navigation menu</small>
                </div>
                
                <div class="form-group">
                    <label for="nav_order">Navigation Order</label>
                    <input type="number" id="nav_order" name="nav_order" value="0" min="0">
                    <small>Lower numbers appear first (0, 1, 2...)</small>
                </div>
            </div>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Add Category</button>
            <a href="{{ url_for('admin_post_categories') }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>

<style>
.post-form {
    max-width: 100%;
}
.form-section {
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 1px solid #eee;
}
.form-section h3 {
    margin-bottom: 20px;
    color: #333;
    font-size: 18px;
}
.form-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}
.form-grid .full-width {
    grid-column: 1 / -1;
}
.form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: 500;
}
.form-group input, .form-group textarea {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 14px;
}
.form-group small {
    color: #666;
    font-size: 12px;
    margin-top: 4px;
    display: block;
}
.checkbox-label {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
}
.form-actions {
    display: flex;
    gap: 10px;
    margin-top: 20px;
}
.content-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}
@media (max-width: 768px) {
    .form-grid {
        grid-template-columns: 1fr;
    }
}
</style>

<script>
document.getElementById('meta_title').addEventListener('input', function() {
    document.getElementById('meta_title_count').textContent = this.value.length + '/70 characters';
});
document.getElementById('meta_description').addEventListener('input', function() {
    document.getElementById('meta_desc_count').textContent = this.value.length + '/170 characters';
});
</script>
{% endblock %}
